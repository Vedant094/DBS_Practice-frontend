<div class="login-wrapper">

  <!-- PARTICLE BACKGROUND -->
  <canvas id="particleCanvas"></canvas>

  <!-- 3D TILT WRAPPER -->
  <div class="tilt-wrapper">
    <div class="login-card" id="loginCard">

      <!-- Illustration -->
      <div class="illustration">
        <img
          src="https://cdn-icons-png.flaticon.com/512/4139/4139981.png"
          class="login-img"
          alt="3D Login Illustration"
        />
      </div>

      <h3 class="title text-center mb-2 fade-in">Welcome Back ðŸ‘‹</h3>
      <p class="subtitle fade-in-delayed">Sign in to continue</p>

      <!-- EMAIL FIELD -->
      <div class="input-group fade-slide-up">
        <i class="bi bi-envelope"></i>
        <input
          class="form-control fancy-input"
          placeholder="Email"
          [(ngModel)]="email"
          (keyup.enter)="submit()"
        />
      </div>

      <!-- PASSWORD FIELD -->
      <div class="input-group mt-3 password-group fade-slide-up">
        <i class="bi bi-lock"></i>

        <input
          [type]="showPassword ? 'text' : 'password'"
          class="form-control fancy-input"
          placeholder="Password"
          [(ngModel)]="password"
          (keyup.enter)="submit()"
        />

        <!-- PERFECTLY ALIGNED EYE ICON -->
        <button type="button"
                class="toggle-password"
                (click)="togglePassword()">
          <i class="bi" 
             [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
        </button>
      </div>

      <!-- Forgot Password -->
      <div class="text-end mt-1 fade-in-delayed">
        <a routerLink="/forgot-password" class="forgot-password-link">
          Forgot Password?
        </a>
      </div>

      <!-- Error -->
      <div *ngIf="error" class="alert alert-danger mt-3 shake fade-slide-up">
        {{ error }}

        <div *ngIf="userNotFound" class="mt-2 text-center">
          <a routerLink="/register-user" class="btn btn-sm btn-primary sign-up-btn">
            Create Account
          </a>
        </div>
      </div>

      <!-- Login Button -->
      <button
        class="btn login-btn w-100 mt-3 fade-slide-up"
        (click)="submit()"
        [disabled]="loading">
        <span *ngIf="!loading">Login</span>
        <span *ngIf="loading" class="loader-inline">
          <span class="spinner"></span>
          Logging in...
        </span>
      </button>

    </div>
  </div>

</div>
